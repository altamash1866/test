<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="stylegame.css">
</head>
<body>

    <div class = "timer"><h2 class="timex">TIME LEFT : 1.00 SEC</h2></div>

    <dialog> 
        <img id="llcall" src="phone.png">
        <p id="callfriend">The correct answer is .</p> 
        <button id="close">Close Dialog</button>
     </dialog>

     <dialog class="audience"> 
        
        <p id="aud">The correct answer is .</p> 
        <button id="close1">Close Dialog</button>
     </dialog>



    <div class="lifeline">
        <button class="life1"> </button>
        <button class="life2"> </button>
        <button class="life3"> </button>
        
    </div>

    <div class="app"> 
        <h1>QUESTIONS</h1>
        <div class="questions">
            <h2>QUESTIONS GOES HERE</h2>
        </div>
        <div class="options">
            <button class="btn">Answer 1</button>
            <button class="btn">Answer 2</button>
            <button class="btn">Answer 3</button>
            <button class="btn">Answer 4</button>
        
        </div>
         </div>

    <div class="amount_won">
        
    </div>

</body>

<script>
    const amountset = [
        
        {
            id:16,
            price:70000000,
        },
        {
            id:15,
            price:10000000,
        },
        {
            id:14,
            price:5000000,
        },
        {
            id:13,
            price:2500000,
        },
        {
            id:12,
            price:2500000,
        },
        {
            id:11,
            price:1250000,
        },
        {
            id:10,
            price:320000,
        },
        {
            id:9,
            price:160000,
        },
        {
            id:8,
            price:80000,
        },
        {
            id:7,
            price:40000,
        },
        {
            id:6,
            price:20000,
        },
        {
            id:5,
            price:10000,
        },
        {
            id:4,
            price:5000,
        },
        {
            id:3,
            price:2000,
        },
        {
            id:2,
            price:1000,
        },
        {
            id:1,
            price:0,
        },
    ]

    const showamount= (amountset) =>{
        let amountdiv = document.querySelector(".amount_won")
        let amountdata='';
        amountset.forEach((item,index)=>{
            item.price = item.price.toLocaleString();
            amountdata +=`<h2 class ="won">Rs. ${item.price}</h2>`
        })

        amountdiv.innerHTML=amountdata;
    }

    showamount(amountset)


    const q1set = [
        {
            question: "What is national animal of india ?",
            a:"tiger",
            b:"lion",
            c:"giraffe",
            d:"fox",
            correct:"tiger"
        },
        {
            question: "What is color of orange ?",
            a:"orange",
            b:"green",
            c:"blue",
            d:"black",
            correct:"orange"
        },
        {
            question: "How many states in india? ?",
            a:"30",
            b:"29",
            c:"12",
            d:"7",
            correct:"29"
        },

    ]


    const q2set = [
        {
            question: "How many hours in a day ?",
            a:"10",
            b:"32",
            c:"24",
            d:"8",
            correct:"24"
        },
        {
            question: "Who is current PM of USA ?",
            a:"Modi",
            b:"Rahul",
            c:"Trump",
            d:"Biden",
            correct:"Biden"
        },
        {
            question: "How many seconds in minute ?",
            a:"30",
            b:"29",
            c:"12",
            d:"60",
            correct:"60"
        },

    ]


    const q3set = [
        {
            question: "The International Literacy Day is observed on ?",
            a:"Sep8",
            b:"Nov28",
            c:"May2",
            d:"Sep22",
            correct:"Sep8"
        },
        {
            question: "The language of Lakshadweep. a Union Territory of India, is ?",
            a:"Tamil",
            b:"Hindi",
            c:"Malayalam",
            d:"Telugu",
            correct:"Malayalam"
        },
        {
            question: "Which day is observed as the World Standards  Day ?",
            a:"June26",
            b:"Oct14",
            c:"Nov15",
            d:"Jan16",
            correct:"Oct14"
        },

    ]


    const q4set = [
        {
            question: "Bahubali festival is related to ?",
            a:"Islam",
            b:"Hinduism",
            c:"Buddhism",
            d:"Jainism",
            correct:"Jainism"
        },
        {
            question: "Who is the author of 'Manas Ka-Hans' ?",
            a:"Khushwant_Singh",
            b:"Prem_Chand",
            c:"Jayashankar_Prasad",
            d:"Amrit_Lal_Nagar",
            correct:"Amrit_Lal_Nagar"
        },
        {
            question: "September 27 is celebrated every year as ?",
            a:"Teachers_Day",
            b:"National_Integration_Day",
            c:"World_Tourism_Day",
            d:"International_Literacy_Day",
            correct:"World_Tourism_Day"
        },

    ]

    const q5set = [
        {
            question: "Who is the author of the epic 'Meghdoot ?", 
            a:"Vishakadatta",
            b:"Valmiki",
            c:"Banabhatta",
            d:"Kalidas",
            correct:"Kalidas"
        },
        {
            question: "'Good Friday' is observed to commemorate the event of ?",
            a:"birth_of_Jesus_Christ",
            b:"birth_of_St_Peter",
            c:"crucification_of_Jesus_Christ",
            d:"rebirth_of_Jesus_Christ",
            correct:"crucification_of_Jesus_Christ"
        },
        {
            question: "Pongal is a popular festival of which state ?",
            a:"Karnataka",
            b:"Kerala",
            c:"Tamil_Nadu",
            d:"Maharashtra",
            correct:"Tamil_Nadu"
        },

    ]


    const q6set = [
        {
            question: "The first month of the Indian national calendar is ?",
            a:"Magha",
            b:"Chaitra",
            c:"Ashada",
            d:"Vaishaka",
            correct:"Chaitra"
        },
        {
            question: "Which of the following is not a dance from Kerala?",
            a:"Kathakali",
            b:"Mohiniattam",
            c:"Ottan Thullal",
            d:"Yaksha Gana",
            correct:"Yaksha Gana"
        },
        {
            question: "Rath Yatra is famous festival a ?",
            a:"Ayodha",
            b:"Dwarka",
            c:"Mathura",
            d:"Puri",
            correct:"Puri"
        },

    ]


    let current=1;
    let score=0;

    const quest=document.querySelector(".questions h2")
    const ans=document.querySelector(".options")

    const setans=(randomquest)=>{
        ans.innerHTML=`
            <button id ='b1',class="btn" onclick=selectoption('${randomquest.a}','${randomquest.correct}',this)>${randomquest.a}</button>
            <button id ='b2',class="btn" onclick=selectoption('${randomquest.b}','${randomquest.correct}',this)>${randomquest.b}</button>
            <button id ='b3',class="btn" onclick=selectoption('${randomquest.c}','${randomquest.correct}',this)>${randomquest.c}</button>
            <button id ='b4',class="btn" onclick=selectoption('${randomquest.d}','${randomquest.correct}',this)>${randomquest.d}</button>
            `
    }

    let xcall="";
    let option="";


    function add_questions(list){
        let random=Math.floor(Math.random()* list.length)
            let randomquest=list[random]
            quest.innerHTML=randomquest.question
            xcall=randomquest.correct;
            if(randomquest.a==randomquest.correct){
                option="a";
            }
            else if(randomquest.b==randomquest.correct){
                option="b";
            }
            else if(randomquest.c==randomquest.correct){
                option="c";
            }
            else if(randomquest.d==randomquest.correct){
                option="d";
            }
            setans(randomquest)
    }


    const setqanda=(current)=>{
        if(current==1){
            add_questions(q1set)
 
        }
        else if(current==2){
            add_questions(q2set)
 
        }

        else if(current==3){
            add_questions(q3set)
 
        }


        else if(current==4){
            add_questions(q4set)
 
        }

        else if(current==5){
            add_questions(q5set)
        }

        else if(current==6){
            add_questions(q6set)
        }
    }

    setqanda(current)

    const setactiveamount=(current)=>{
        let pdiv=document.querySelector(".amount_won")
        let pdata=pdiv.querySelectorAll("h2")
        let plen=pdata.length

        pdata[plen-current].classList.add("active")
    }

    setactiveamount(current)

    let timer=document.querySelector(".timer h2")
    let time=60;

    const setimer=()=>setInterval(
        ()=>{
            
            if(time==0){
                clearInterval(setimer())
                alert("Time is up")
                return
            }
            time--;
            timer.innerHTML="TIME LEFT : "+time;
        },1000
    )

    
   
    const selectoption=(
        selectoption,ans,idx
    )=>{

        const xcorrect=document.getElementById(idx.id);
        
        if(selectoption==ans){
            xcorrect.style.backgroundColor="green";
            
            setTimeout(function(){
                current=current+1;
            setactiveamount(current)
            setqanda(current)
            time=60;
            
            },3000)
            
        
        }
        else{
            xcorrect.style.backgroundColor="red";
            alert("GAME OVER")
        }
    }


    const callans=document.querySelector("#callfriend");
    var dialog = document.querySelector('dialog'); 
    document.querySelector('.life1').onclick = function() { 
        callans.innerHTML="THE CORRECT ANSWER IS : "+xcall;
        var msg = new SpeechSynthesisUtterance();
        msg.text = "The correct answer is"+xcall;
        window.speechSynthesis.speak(msg);
        dialog.showModal(); };
    document.querySelector('#close').onclick = function() { dialog.close(); };

    const audans=document.querySelector("#aud");
    var dialog1 = document.querySelector('.audience'); 
    document.querySelector('.life2').onclick = function() { 
        if(option=="a"){
            audans.innerHTML=`<img src="option1.png">`;
        }
        else if(option=="b"){
            audans.innerHTML=`<img src="option2.png">`;
        }
        else if(option=="c"){
            audans.innerHTML=`<img src="option3.png">`;
        }
        else if(option=="d"){
            audans.innerHTML=`<img src="option4.png">`;
        }
        
        
        dialog1.showModal(); };
    document.querySelector('#close1').onclick = function() { dialog1.close(); };

    const button1=document.getElementById("b1");
    const button2=document.getElementById("b2");
    const button3=document.getElementById("b3");
    const button4=document.getElementById("b4");

    document.querySelector('.life3').onclick = function(){
        if(option=="a"){
            button2.style.backgroundColor="black";
            button3.style.backgroundColor="black";

            setTimeout(function(){
                button2.style.backgroundColor="pink";
                button3.style.backgroundColor="pink";
            
            },3000)
        }
        else if(option=="b"){
            button3.style.backgroundColor="black";
            button4.style.backgroundColor="black";

            setTimeout(function(){
                button3.style.backgroundColor="pink";
                button4.style.backgroundColor="pink";
            
            },3000)
        }
        else if(option=="c"){
            button1.style.backgroundColor="black";
            button3.style.backgroundColor="black";

            setTimeout(function(){
                button1.style.backgroundColor="pink";
                button3.style.backgroundColor="pink";
            
            },3000)
        }
        else if(option=="d"){
            button2.style.backgroundColor="black";
            button3.style.backgroundColor="black";

            setTimeout(function(){
                button2.style.backgroundColor="pink";
                button3.style.backgroundColor="pink";
            
            },3000)
        }

    };

    

    



    
    




</script>

</html>